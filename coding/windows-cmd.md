---
modified: 2021-09-17T10:38:28+03:00
date: 2021-09-05T10:38:28+03:00
title: Скрипты CMD
---

### Узнать почему комп не уходит в сон
Скрипт ниже. Запускать от админа. Источник: <https://tinyurl.com/b43nh2mz>  
```cmd /k powercfg /requests```



### Запустить команду из меню Win+R и оставить консоль открытой
Позволяет запихнуть сложные сценарии в одну строчку.   
```cmd /k echo test && pause```



### Ярлык с относительным путем
1. Создать ярлык на командную строку, передав ей как параметр запуск файла по относительному пути. Проводник их не понимет, а вот cmd вполне.   
```%COMSPEC% /c start "" "..\Test Folder\1.txt"```   
Обрати внимание, что поддерживаются пути с пробелами.
2. В свойстваъх ярлыка удалить все в поле "Рабочая папка"
3. В свойстваъх ярлыка в поле "Окно" выбрать "Свернутое в значок". Это предотвратит появление окна консоли

![image](https://user-images.githubusercontent.com/17731587/140293941-fea0b2c8-0f0f-432c-8fad-9753c99496df.png)

Альтернативный вариант - создать файл ```1.cmd``` и запускать непосредственно его.

```start "" "..\Test Folder\1.txt"```

```start "" "%onedrive%\Test Folder\1.txt"```



### Скопировать в буфер обмена путь к файлу на OneDrive

Ярлыки с относительными путями будут корректно работать на диске OneDrive даже если ты заходишь с разных компов.

Зацени также [**скрипт**](../projects/onedrive-linker.md), который позволяет **создать локальные ссылки на OneDrive**


## Полезные статьи
- <https://www.cyberforum.ru/cmd-bat/thread55211.html>
- <https://ab57.ru/cmd.html>
- 
