---
tags: hard
date: 2022-09-25T11:58:42+03:00
---

## Плата мощного повербанка
Для устройства будут использованы много аккумуляторов 18650 включенных паралельно. Выбрал такой вариант потому что это более распространено, соответственно будет меньше сюрпризов. Микросхемы будут в виде модулей, пока что.


- Модуль на TPS31088. Мощный повышающий DC/DC. На плате есть микросхема для реализации QC
- Модуль зарядки литиевых аккумуляторов на IP2312. Отдает до 3А, питание 5 вольт
- Модуль на DW01 или похожей микросхеме (напр. FS312F-G). Защита АКБ от переразряда
- Предупреждение о разряде АКБ на компараторах и вольтметре. Можно посмотреть вручную, нажав кнопку. Если Батарея разряжена, вольтметр мигает раз в две секунды. Активируется только при наличии тока разрядки
- Функция бесперебойника. Паралельно с входом подключить еще один USB
- Быстрая зарядка повербанка повышенным напряжением. Зарядка на LM2596. Триггер QC. Круглый разъем 5525

![image](https://user-images.githubusercontent.com/17731587/192786580-7ec0c611-4672-4fa5-9bee-f5cd7e79138c.png)

## Еще варианты
Есть готовая плата не сильно уступающая по характеристикам. Модуль на микросхеме IP5328P. Если лень заморачиваться, лучше выбрать ее.

Для менеджмента батареи можно использовать полноценный чарджер BQ25895RTW на 5 ампер, но управлять им должен микроконтроллер. Такие стоят в телефонах и в продвинутой электронике

## защиты
Мониторитс напруга, при падении ниже 2.9в - отключается выход и мигает индикатор напряжения в течении двух минут. 

Затем схема полностью обесточивается, включая мигалку, что бы не высосало остатки энергии из акб. 

Включение через кнопку сброс. Она подаёт напряжение на триггер Шмидта построенного на ОУ. А тот на полевик


Напряжение срабатывания нужно выбирать в зависимости от просадки напряжения аккумулятора под нагрузкой. Если маленький ток, то 3.0 вольт, если большой то 2.7 вольт

## дополнительно
При критическом уровне разряда акб - выключить его нагрузку. И не включать обратно до нажатия вручную кнопки. Кнопка запаралелена с вольтметром. И при нажатии показывается напряжение акб. То есть при ее нажатии сбрасывается защита и показывается напряжение на акб. 

Так аккум повербанка не разрядится в ноль при автоматической зарядке. Но и если срочно нужно подзарядить мобилку хоть на пару процентов для срочного звонка, то можно пожертвовать здоровьем аккума и, удерживая кнопку, выжать из него последние соки

Логический элемент скорее всего будет построен на операционном усилителе. И он будет управлять ключём между защитой и повышайкой. Или пином включения в повышайке, если такой есть



## Мысли
11 Links, [23.09.2022 03:11]
Повербанк

Аккум 3.7в
Защита акб BMS
Зарядка от QC: триггер  + 
Понижающий CV/CC преобразователь для зарядки аккума от 12в бп
Повышающий преобразователь с юсб повер деливери

11 Links, [23.09.2022 15:24]
Защита от кз
от повышенного тока на входе (10А)
от повышенного тока на выходе (2А, при любом напряжении 5V/9v/12v)
от пониженного напряжения на входе (3.2в)
от повышенного напряжения на входе (5v)
силовой тумблер отключающий схему от акб, можно на полевиках

11 Links, [23.09.2022 15:30]
НА ТП5446 можно сделать мощную зарядку акб запаралелив микросхемы

11 Links, [23.09.2022 15:31]
для зарядки повербанка использовать внешний DCDC с регулировкой тока и напряжения. На вход подавать 5-12 вольт

11 Links, [25.09.2022 12:14]
повербанк. Вариант 1
повышающий модуль на тпс31088 с поддержкой qc
зарядка на IP2312
Защита АКБ от переразряда?
Функция бесперебойника?

Вариант 2
Готовая плата на IP5328P

11 Links, [28.09.2022 03:50]
Mcp73833

11 Links, [28.09.2022 03:59]
Компенсация падения напряжения на проводах при большом токе

11 Links, [28.09.2022 03:59]
Добавить кнопку выключения слева внизу. Вывести на экран под температурой показатель кпд

11 Links, [28.09.2022 14:29]
Добавить выход UPS на повербанк. На диоде и мосфете

11 Links, [28.09.2022 15:26]
Сигнализация об отсутствии электричества. 
Мосфет П-канал открываемый при пропадании входного напряжения.
Таймер 555 для включения сирены раз в минуту на 5 секунд
Сигнализация открытия двери с герконом, как донор

11 Links, [30.09.2022 12:39]
FS312F-G

11 Links, [02.10.2022 18:49]
Мониторитс напруга, при падении ниже 2.9в - отключается выход и мигает индикатор напряжения в течении двух минут. 

Затем схема полностью обесточивается, включая мигалку, что бы не высосало остатки энергии из акб. 

Включение через кнопку сброс. Она подаёт напряжение на триггер Шмидта построенного на ОУ. А тот на полевик


Напряжение срабатывания нужно выбирать в зависимости от просадки напряжения аккумулятора под нагрузкой. Если маленький ток, то 3.0 вольт, если большой то 2.7 вольт



## зарядка
Вместо одной мощной зарядки акб можно использовать несколько слабых типа 4056


## защиты2
Сделать отключение лбп при перегрузке по току. Шунт, оу, выход на кнопку


## Полезные ссылки
- [**SuperPower**](https://github.com/SensorsIot/SuperPower). Проект ютубера AndreasSpies по созданию идеальной платы питания. В результате сделано три платы. Для малины, для микроконтроллеров и lowprice
- [Доработка модуль TPS61088](https://youtu.be/UtS0hpmpKGs?t=86). повышение напряжений
