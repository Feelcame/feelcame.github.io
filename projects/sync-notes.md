---
title: Программа для надежной работы с расшаренными заметками (идея)
---

## идея
программа для работы с текстовыми заметками. 
- при открытии принудительно синхронизирует локальные заметки с сервером
- при сохранении обновляет данные на сервере

## утилиты
как сервер использует
- git 
- sync
- webdav

на телефоне 
- MGit 
- Termux
- Total Commander
- Tasker

На компе
- sync
- git
- notepad++

## решение конфликтов
может случиться такое что на двух устройствах одновременно будет отредактирован один и тот же файл. тогда будет конфликт, какой же файл считать правильным. во избежание потери данных есть несколько подходов
- запретить обновлять файл отредактированный с неактуальной версии. так работает git merge
- заблокировать файл для редактирования на время доступа к нему одного из устройств. так было расшаренных файлах виндовс
- метод регулярного обновления файла и в случае если появилась более новая версия чем на сервере - пренебречь всем и заменить на отредактированный файл. Так делает Todoist и Gitjournal. Телеграм тодже так работает

**еще важно** максимально дробить заметки на файлы. что даже если какоето устройство захочет зафорсить свою версию изменений в файл, то что бы перезаписывало не всю базу, а только одну заметку

## Боль
Пока что я пару раз наткнулся на потерю данных из-за использования голого Markor + голого Sync. Комп был офлайн и данные с телефона не синхронизировались. А когда я включил комп и отредактировал заметку - Sync на телефоне уже спал. Так я отредактировал заметку на компе, потом телефон ее пересинхронизировал и я потерял написанный текст. Обидно. Надо что то с этим делать, возможно буду хранить заметки в телеге. Но пока что мой выбор - [todoist](https://todoist.com). При всех его недостатках и платности - он автоматически отвечает за синхронизацию. Пока нереализую свойвелосипед. Возможно мне хватит просто поднять еще одно устройство, которое будет постоянно подключено к интернету и не будет спать





