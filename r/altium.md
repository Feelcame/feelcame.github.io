---
title: Что не так с Altium Designer
date: 2021-05-29T13:20:33+03:00
modified: 2021-09-04T12:30:58+03:00
tags: pcb
redirect_from: /hard/altium-designer/
---

## О чем эта телега
Позволяет разводить печатные платы. Но достаточно сложный для новичка. Решил сделать небольшую статью про альтиум, как им пользоваться. А получилась статья "Припекло. Верните мои деньги"

## Altium
раздел переехал [сюда](altium-designer.md)
Его основная задача - разводка плат для сложных вещей. Соответственено он сам сложный, но это скорее наследие из прошлого. Но пояснениедля новичка все-равно требуется
* www .altium.com - [Интерактивная трассировка](https://www.altium.com/ru/documentation/altium-designer/interactive-routing-ad?version=18.1)
* easyelectronics.ru - [FAQ по работе в Altium Designer](http://we.easyelectronics.ru/faq/faq-po-rabote-v-altium-designer.html)
* easyelectronics.ru - [Виды библиотек компонентов](http://we.easyelectronics.ru/CADSoft/bd-biblioteki-dlya-altium-designer.html)
* microsin.net - [Горячие клавиши](http://microsin.net/adminstuff/others/altium-designer-editor-shortcuts.html)
* microsin.net - [Полигоны](http://microsin.net/adminstuff/others/altium-designer-polygon-pours-and-copper-regions.html)
* microsin.net - [Как делать библиотеки](http://microsin.net/adminstuff/others/altium-designer-building-an-integrated-library.html)
* Видеоуроки от BSVi - [youtube](https://www.youtube.com/playlist?list=PLgUwXvgNkHQJ3G5UoLGMfHJM2c-m4Afdx) + [телега](https://t.me/joinchat/SwRd2oF2DdCRhoam) + [торрент](https://rutracker.org/forum/viewtopic.php?t=3885433)
* Видеоуроки от Сабунина - [youtube](https://www.youtube.com/channel/UCG7N5CqXpyK8nQjr1EmMgng) + [телега](https://t.me/joinchat/RVccqiNy9BfP1nQ9) + [торрент](https://rutracker.org/forum/viewtopic.php?t=4712666)
* Видеоуроки от Altium Russia - [Ютуб канал](https://www.youtube.com/channel/UCvZ_kyV4ATrQfjmtVpuj0LQ)


## Где купить?
У официального диллера, они есть даже в русскоговорящих странах. Ну или взять демо - на поучиться пройдет. Учитывая цену программы, её не каждый может себе позволить. *Продюссеры* это понимают и по этой причине свободно раздают демки, вполне официально. Нужно просто написать им письмо на английском (гугл транслейт в помощь)

## Почему именно альтиум? Сравнение с конкурентами
Альтиум, имхо, старая громоздкая херня. Тормозит, лагает. Что бы сделать простые вещи - нужно лезть в дебри настроек. Для работы ОБЯЗАТЕЛЬНО нужна мощная видеокарта, мощный проц и SSD, иначе не запустится. На практике замечено, что для стабильной работы нужна Windows10 - видимо там какие то низкоуровневые зависимости подвезли. 
А стоит эта программа, как хороший подержанный автомобиль. В общем недостьатков хоть отбавляй.  
А достоинство всего одно - монополия. Куда не плюнь - везде просят альтиум. Дожылись до того что на производствах кроме герберов принимают еще и альтиумовские проекты для производства. Говорят добавили по просьбам клиентов. А знаете почему клиенты просят это? да потому что герберы из альтиума хроен выведешь! бесит...

## Как запустить и начать работать
Пригодится бубен, костер и танец индейцев для призыва дождя владельцам этой компании на голову.... Ладно, прекращаю бомбить. Просто подгорело. СУКА! Ну почему я должен делать пол сотни кликов для действий, которые в других кадах делаются автоматом, вообще без кликов???? одним словом пиздец.

Но если всеп еще очень сильно надо - расказываю.
1. Создать проект "PCB Project"
3. Внутри проекта создать схематик. Их можно днлать несколько - все объединятся в одну плату
4. Там же создать "PCB Document"
5. По желанию можно создать библиотеку, если планируется сорздавать кастомные символы и футпринты. Ну или дляудобного хранения скачанных либ (где качать будет сказано ниже)
6. Библиотеку придется тоже создать два раза - для символов и для футпринтов. А ты думал что, жизнь сахаром будет?

Все изменения делать только внутрни проекта. Если менять схему как Free Documents - нихрена не сможешь экспортнуть в плату.

Идем дальше. 

## Как добавлять элементы на плату.
Что бы добавлять элементы их нужно сначала создать и запихнуть в библиотеку - об этом далее. Для примера возьмем стандартный элемент. Из стандартной библиотеки. Которая ну никуда не годится - об этом тоже далее.

Открыть схематик. Только так. Всегда сначала создается схема, а уже из нее плата. 
В панели справа нужно открыть Libraries. Если панеи нету или счезла - восстановить через неисчезаемую кнопку управления панелями "Panels" справа внизу.  
Из выпадающего списка выбрать библиотек с нужными компонентами. Из коробки там две библиотеки. Но может и их не быть, в таком случае придется подключить или создать новые с нужными компонентами.  
Внизу появится список компонентов. Их добавить нужно на лист схематика перетягиванием или дабл кликом.


## Обновление PCB из схемы
Натаскай парочку компонентов и погнали их переносить в PCB. Связи пока можно не расставлять.
- Сделай аннотацию (расставить цифры возле букв префиксов элементов). Tools > Anotation > Anotate schematic
- Подтвердить все подтверждения
- Выбрать Project - Update PCB или что то в таком духе. Оно в самом верху выпадающего списка должно быть. Если нету - ищи где проебался. Или вне проекта работаешь или не создан документ PCB или еще какая залупа - этот альтиум не поймешь. В редакторе PCB - этот пункт называется "Import changes from schematic"
- В общем когда нашел и нажал нужно опять подтвердить подтверждения, прокликать все кликательные кнопки.
- Если все гуд - появится плата с твоими элементами. Тягай на здоровье. Принцип ты понял

## Трассировка
Разводить линии пожно через горячую клавишу Ctrl+W. Но что бы альтиум тебе подсказывал какую линию куда вести, разумеется нужно сначала проставить связи в схематике и проапдейтить из него PCB layout. Вообще, привыкай постоянно апдейтить плату. Здесь это служит дополнительной проверкой что ничего не сломалось в ходе улучшений.
Другие полезности по ссылкам в главе с материалами для обучения (она в самом низу). 

По умолчанию, когда ты двигаешь компонент, подключенные к нему дорожки не следуют за компонентом. Что бы это исправить - выставь соответствующую галку в Preferences > PCB Editor > Interactive Routing. Галка называется Component re-route, находится в разделе Dragging


## Библиотеки компонентов
Библиотеки в формате IntLib нужно подключить через меню биюлиотек. Библиотеки в формате PcbLib и RomaLib нужно включить в состав проекта печатной платы. Если создаешь библиотеку самостоятельно - она тоже должна быть в составе проекта.
* В самой программе есть встроенный поиск компонентов. Сам им не пользуюсь - не удобно
* Скачать на сайте производителя. Это лучшее решение. Но не всегда они дают библиотеки
* Для альтиума подходят [**универсальные библиотеки**](./PCB.html#библиотеки-компонентов)
* [AX_Altium_v2.3](https://tqfp.org/forum/viewtopic.php?f=14&t=364&p=7612&hilit=AX_Altium_v2.3.IntLib#p7612)
* [IntLib by Sandy](https://rutracker.org/forum/viewtopic.php?t=4864824) 2015 03.22
* [IntegratedLibrary](https://rutracker.org/forum/viewtopic.php?t=5722123) Library(Sandy) 11.06.2020

>Внимание! При подключении двух библиотек с одинаковым именем - невозможно воспользоваться ни одной

- <https://github.com/YuryKoshkarov/AltiumLibrary> - подключать все файлы .SchLib и оба файла .PcbLib
- <https://github.com/issus/altium-library> и чуть допиленная версия <https://github.com/ximtech/altium-library> - большая библиотека с выбором номиналов компонентов, тбебуется установленный Microsoft Acces для работы с базой
- <https://rutracker.org/forum/viewtopic.php?t=6174878> - Библиотека электронных компонентов на основе БД CERN.
- https://drive.google.com/file/d/1j1DbjcIxdhMeJIV9FV8XtZYAscy1Cxxd  -  пользовательская библиотека
- <https://gitlab.com/devprodest/altium-library> - от пользователя Denis Zaikin 


## Design Rules / правила
Для управления автоматическими функциями программы существуют правила. Через них задается практически вся логика расставления расстояний. Допустимые зазоры нужно смотреть на сайте производителя. А те что нужно сделать уникальными просто по "моему хотенью" - надо задавать выше в иерархии правил. 

Менеджер правил находится по адресу Design > Rules. Рекомендую сразу тут все внимательно рассмотреть и вникнуть, еще до заказа производства. Если настроить правила под себя - значительноупростишь для себя жизнь в будущем.

Как водится в альтиуме, дефолтные настройки правил просто замечательные. Например, что первым приходитв голову, это Tented Via - минимальный размер переходного отверстия при котором оно не покрывается маской. Если оставить стандартное значение - аблолютно все виа будут непокрыты, а это чревато проблемами с пайкой и случайными коротышами. Всегда делай виа закрытыми.

Но не везде рулят рулсы. Есть еще одно место, поважнее и более потаенное. Это свойства компонента. В этом абзаце про то как сделать погложение одноименных линий полигонами. В свойствах полигона есть выпадающее меню, в котором задается поведение поглощения. Правилами можно лишь задавать отклонения от этого свойства, например для того что быы не поглощать пэды 


## Производство из герберов
Заделай герберы. и потправь на завод. Дриллы не забудь только приложить. 

Производитель печатных плат JLCPCB позаботился и сделал [инструкцию](https://support.jlcpcb.com/article/42-how-to-export-altium-pcb-to-gerber-files) как генерировать герберы. Видимо юзеры задолбали с глупыми вопросами ;-)

На всякий случай продублирую и тут ключевые моменты.
- Нажми File > Fabrication Output > Gerber Files
- Выбери нужные значения точности и единиц измерения
- После создания фыходного файла с расширение .cam нажми File > Export > Gerber Files. Файлы слоев сохранены
- Экспортни дриллы. В редакторе PCB выбери File > Fabrication Output > NC Drill Files
- Затем, так же как и с герберами, нажми File > Export > Export Drills

И еще раз то же, но другими словами:

- Нажать File>Fabrication Outputs>Gerber Files
- Формат размеров 4:3 Metric (точность 1um), Trailing, Abs
- Выбрать нужные слои. Нажать ОК

- Переименовать файл контура платы из *.gm7 в *.gko 

- Нажать File>Export>Gerber
- Проверить что формат гербера RS-274-X
- Формат размеров должен быть такой же 4:3

- File>Fabrication Outputs>NC Drill Files
- File>Export>Save Drill

- Reports>Bill of Material
- Отформатировать столбцы, как в примере фабрики
- Нажать Export

- File>Assembly Outputs>Generate pick and place files
- Выбрать формат CSV. Отформатировать столбцы по примеру.
- Нажать ОК. Файлы сгенерируются в подпапку Outputs рядом с проектом

На завод все эти файлы отправлять вместе одним архивом.

Фигурные вырезы нужно делать на слое механики и в письме заводу явно указать что линии на этом слое нужно выфрезеровать. У завода jlc на этот случай тоже есть инструкция в разделе faq


## Механика
Перед поизводством неплохо бы посмотреть как будет выглядеть ПП. В альтиуме есть просмотрщик 3D-вида. Он открывается нажатием цифры 3 в редакторе PCB. Этот вид настраивается в меню View Configuration, которое открывается по горячей клавише L (это там же где управление слоями, только на соседней вкладке). В нем можно например отключить отображение 3D bodies или убрать перспективу. 

Альтиум на удивление хорошо работает с автокадовскими чертежами. Не идеально конечно, но в целом даже лучше чем в EAGLE. Обмен чертежами между программами лучше проводить в DXF. Рекомендую сначала в автокаде максимально упрость фигуру, а потом только импортировать в альтиум. Это потому что он очень тормозной сам по себе, а со сложными фигурами может зависнуть намертво. Трехмерные объекты подключаются как STEP-файлы, но они в основном нужны только в библиотеках

- <https://russianblogs.com/article/54691440932/>
- <https://electronix.ru/forum/index.php?app=forums&module=forums&controller=topic&id=143615>
- <https://askentire.net/q/import-chertezhej-dxf-v-altium-61051434693>


## Обучение
Его основная задача - разводка плат для сложных вещей. Соответственено он сам сложный, но это скорее наследие из прошлого. Но пояснение для новичка все-равно требуется
* www.altium.com - [Интерактивная трассировка](https://www.altium.com/ru/documentation/altium-designer/interactive-routing-ad?version=18.1)
* easyelectronics.ru - [FAQ по работе в Altium Designer](http://we.easyelectronics.ru/faq/faq-po-rabote-v-altium-designer.html)
* easyelectronics.ru - [Виды библиотек компонентов](http://we.easyelectronics.ru/CADSoft/bd-biblioteki-dlya-altium-designer.html)
* microsin.net - [Горячие клавиши](http://microsin.net/adminstuff/others/altium-designer-editor-shortcuts.html)
* microsin.net - [Полигоны](http://microsin.net/adminstuff/others/altium-designer-polygon-pours-and-copper-regions.html)
* microsin.net - [Как делать библиотеки](http://microsin.net/adminstuff/others/altium-designer-building-an-integrated-library.html)
* Видеоуроки от BSVi - [youtube](https://www.youtube.com/playlist?list=PLgUwXvgNkHQJ3G5UoLGMfHJM2c-m4Afdx) + [телега](https://t.me/joinchat/SwRd2oF2DdCRhoam) + [торрент](https://rutracker.org/forum/viewtopic.php?t=3885433)
* Видеоуроки от Сабунина - [youtube](https://www.youtube.com/channel/UCG7N5CqXpyK8nQjr1EmMgng) + [телега](https://t.me/joinchat/RVccqiNy9BfP1nQ9) + [торрент](https://rutracker.org/forum/viewtopic.php?t=4712666)
* Видеоуроки от Altium Russia - [Ютуб канал](https://www.youtube.com/channel/UCvZ_kyV4ATrQfjmtVpuj0LQ)



## Полезные ссылки
Альтиум сетка
<https://www.altium.com/ru/documentation/altium-designer/pcb-working-with-grids-guides/>

Альтиум сетка 2
<https://www.altium.com/ru/documentation/altium-designer/sch-cmd-togglevisiblegridtogglevisiblegrid-ad/?version=21>
